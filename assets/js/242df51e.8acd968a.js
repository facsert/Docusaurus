"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[1130],{3944:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>o,contentTitle:()=>r,default:()=>x,frontMatter:()=>t,metadata:()=>a,toc:()=>c});var l=i(4848),s=i(8453);const t={pubDatetime:new Date("2022-01-19T21:51:23.000Z"),title:"nginx",slug:"nginx",featured:!1,draft:!1,tags:["nginx"],description:"nginx"},r=void 0,a={id:"Tool/nginx",title:"nginx",description:"nginx",source:"@site/docs/Tool/nginx.md",sourceDirName:"Tool",slug:"/Tool/nginx",permalink:"/docs/Tool/nginx",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Tool/nginx.md",tags:[{inline:!0,label:"nginx",permalink:"/docs/tags/nginx"}],version:"current",frontMatter:{pubDatetime:"2022-01-19T21:51:23.000Z",title:"nginx",slug:"nginx",featured:!1,draft:!1,tags:["nginx"],description:"nginx"},sidebar:"tutorialSidebar",previous:{title:"gitlab",permalink:"/docs/Tool/gitlab"},next:{title:"rabbitmq",permalink:"/docs/Tool/rabbitmq"}},o={},c=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"nginx \u5b89\u88c5",id:"nginx-\u5b89\u88c5",level:2},{value:"nginx \u914d\u7f6e",id:"nginx-\u914d\u7f6e",level:2},{value:"\u9759\u6001\u6587\u4ef6",id:"\u9759\u6001\u6587\u4ef6",level:3},{value:"\u53cd\u5411\u4ee3\u7406",id:"\u53cd\u5411\u4ee3\u7406",level:3},{value:"\u8d1f\u8f7d\u5747\u8861",id:"\u8d1f\u8f7d\u5747\u8861",level:3}];function d(n){const e={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.p,{children:"nginx \u662f\u4e00\u4e2a Web \u670d\u52a1\u5668\uff0c\u5b83\u652f\u6301 HTTP\u3001HTTPS\u3001SPDY\u3001SPDY/3\u3001QUIC\u3001WebSockets\u3001SSE\u3001SSE/2\u3001SSE/3\u3001SSE/4\u3001SSE/5\u3001SSE/6\u3001SSE/7\u3001SSE/8\u3001SSE/9\u3001SSE/10\u3001SSE/11\u3001SSE/12\u3001SSE/13\u3001SSE/"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u6b63\u5411\u4ee3\u7406: \u5ba2\u6237\u7aef\u914d\u7f6e\u6b63\u5411\u4ee3\u7406, \u901a\u8fc7\u4ee3\u7406\u670d\u52a1\u5668\u5c06\u8bf7\u6c42\u8f6c\u53d1\u5230\u670d\u52a1\u5668(\u53ef\u9690\u85cf\u5ba2\u6237\u7aef\u4fe1\u606f)"}),"\n",(0,l.jsx)(e.li,{children:"\u53cd\u5411\u4ee3\u7406: \u5728\u670d\u52a1\u7aef\u914d\u7f6e\u53cd\u5411\u4ee3\u7406, \u901a\u8fc7\u4ee3\u7406\u670d\u52a1\u5668\u63a5\u6536\u5ba2\u6237\u7aef\u8bf7\u6c42(\u53ef\u9690\u85cf\u670d\u52a1\u7aef\u4fe1\u606f)"}),"\n",(0,l.jsx)(e.li,{children:"\u8d1f\u8f7d\u5747\u8861: \u53cd\u5411\u4ee3\u7406\u65f6, \u5355\u4e2a\u4ee3\u7406\u670d\u52a1\u5bf9\u5e94\u591a\u4e2a\u540e\u7aef\u670d\u52a1, \u6839\u636e\u7b97\u6cd5\u8f6c\u53d1\u8bf7\u6c42"}),"\n",(0,l.jsx)(e.li,{children:"\u52a8\u9759\u5206\u79bb: \u5c06\u9759\u6001\u8d44\u6e90(nginx)\u548c\u52a8\u6001\u8d44\u6e90(\u540e\u7aef)\u5206\u79bb, \u4ee5\u63d0\u9ad8\u6027\u80fd"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,l.jsx)(e.h2,{id:"nginx-\u5b89\u88c5",children:"nginx \u5b89\u88c5"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.a,{href:"http://nginx.org/",children:"nginx"})," \u5b98\u7f51"]}),"\n",(0,l.jsx)(e.p,{children:"\u5b89\u88c5\u5305\u5b89\u88c5"}),"\n",(0,l.jsx)(e.p,{children:"nginx \u662f\u7531 C \u7f16\u5199, \u9700\u8981\u4f7f\u7528\u76f8\u5173\u4f9d\u8d56\u7f16\u8bd1\u5668\u7f16\u8bd1"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:" $ apt install make zlib zlib-devel gcc-c++ libtool openssl openssl-devel -y\n $ tar -xvf nginx-1.25.3.tar.gz\n $ cd nginx-1.25.3\n $ ./configure\n $ make && make install\n >\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u5305\u7ba1\u7406\u5de5\u5177\u5b89\u88c5"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:" $ apt install nginx\n $ systemctl start nginx\n >\n"})}),"\n",(0,l.jsx)(e.p,{children:"docker \u955c\u50cf\u5b89\u88c5"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:" $ docker pull nginx\n $ docker run -d -p 80:80 -p 443:443 --name nginx nginx\n >\n"})}),"\n",(0,l.jsx)(e.h2,{id:"nginx-\u914d\u7f6e",children:"nginx \u914d\u7f6e"}),"\n",(0,l.jsx)(e.p,{children:"nginx \u914d\u7f6e\u6587\u4ef6: /etc/nginx/nginx.conf"}),"\n",(0,l.jsx)(e.h3,{id:"\u9759\u6001\u6587\u4ef6",children:"\u9759\u6001\u6587\u4ef6"}),"\n",(0,l.jsx)(e.p,{children:"\u5c06\u670d\u52a1\u5668\u6307\u5b9a\u8def\u5f84\u6620\u5c04\u5230 nginx \u7aef\u53e3"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"http {\n    server {\n        listen       80;\n        server_name  localhost;\n        client_max_body_size 1024M;\n\n        # \u9ed8\u8ba4location\n        location / {\n            root   /usr/local/;\n            index  index.html index.htm;\n        }\n    }\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:"http: \u670d\u52a1\u914d\u7f6e, \u53ef\u4ee5\u5b9a\u4e49\u591a\u4e2a server \u5757\nlisten: \u670d\u52a1\u5668\u76d1\u542c\u7684\u7aef\u53e3\nserver_name: \u670d\u52a1\u5668\u540d\u79f0, \u53ef\u4ee5\u662f\u57df\u540d\u6216 IP \u5730\u5740\nlocation: \u670d\u52a1\u5668\u8def\u5f84, / \u8868\u793a\u4efb\u610f\u8def\u5f84\nroot: \u670d\u52a1\u5668\u8def\u5f84, \u7528\u4e8e\u6307\u5b9a\u9759\u6001\u6587\u4ef6\u7684\u8def\u5f84\nindex: \u670d\u52a1\u5668\u8def\u5f84, \u7528\u4e8e\u6307\u5b9a\u9759\u6001\u6587\u4ef6\u7684\u7d22\u5f15\u6587\u4ef6"}),"\n",(0,l.jsx)(e.h3,{id:"\u53cd\u5411\u4ee3\u7406",children:"\u53cd\u5411\u4ee3\u7406"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"http {\n    server {\n        listen       80;\n        server_name  localhost;\n        client_max_body_size 1024M;\n\n        location / {\n            proxy_pass http://127.0.0.1:8080;\n        }\n    }\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u8d1f\u8f7d\u5747\u8861",children:"\u8d1f\u8f7d\u5747\u8861"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"\nupstream backend {\n    server 127.0.0.1:8080;\n    server 127.0.0.1:8081;\n    server 127.0.0.1:8082;\n}\n\nhttp {\n    server {\n        listen       80;\n        server_name  localhost;\n        client_max_body_size 1024M;\n        \n        location / {\n            proxy_pass http://backend;\n        }\n    }\n    }\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u8d1f\u8f7d\u5747\u8861\u7b56\u7565"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"round_robin: \u9ed8\u8ba4, \u4f9d\u6b21\u5206\u914d\u8bf7\u6c42"}),"\n",(0,l.jsx)(e.li,{children:"ip_hash: \u6839\u636e\u5ba2\u6237\u7aef IP \u5730\u5740\u5206\u914d\u8bf7\u6c42"}),"\n",(0,l.jsx)(e.li,{children:"weighted: \u6839\u636e\u6743\u91cd\u5206\u914d\u8bf7\u6c42"}),"\n"]})]})}function x(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(d,{...n})}):d(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>r,x:()=>a});var l=i(6540);const s={},t=l.createContext(s);function r(n){const e=l.useContext(t);return l.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:r(n.components),l.createElement(t.Provider,{value:e},n.children)}}}]);