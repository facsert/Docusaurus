"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[7623],{6675:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>d,frontMatter:()=>c,metadata:()=>i,toc:()=>o});var a=s(4848),r=s(8453);const c={author:"facsert",pubDatetime:new Date("2022-07-03T17:44:44.000Z"),modDatetime:null,title:"02.Bash Branch",slug:"02.Bash Branch",featured:!1,draft:!1,tags:["bash"],description:"Bash \u6761\u4ef6\u5206\u652f"},t=void 0,i={id:"Bash/Bash-2-branch",title:"02.Bash Branch",description:"Bash \u6761\u4ef6\u5206\u652f",source:"@site/docs/Bash/Bash-2-branch.md",sourceDirName:"Bash",slug:"/Bash/02.Bash Branch",permalink:"/docs/Bash/02.Bash Branch",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Bash/Bash-2-branch.md",tags:[{inline:!0,label:"bash",permalink:"/docs/tags/bash"}],version:"current",frontMatter:{author:"facsert",pubDatetime:"2022-07-03T17:44:44.000Z",modDatetime:null,title:"02.Bash Branch",slug:"02.Bash Branch",featured:!1,draft:!1,tags:["bash"],description:"Bash \u6761\u4ef6\u5206\u652f"},sidebar:"tutorialSidebar",previous:{title:"01.BASH Basic",permalink:"/docs/Bash/01.BASH Basic"},next:{title:"03.Bash Loop",permalink:"/docs/Bash/03.Bash Loop"}},l={},o=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"if \u5206\u652f",id:"if-\u5206\u652f",level:2},{value:"\u591a\u91cd\u5206\u652f",id:"\u591a\u91cd\u5206\u652f",level:3},{value:"\u8868\u8fbe\u5f0f",id:"\u8868\u8fbe\u5f0f",level:2},{value:"\u6570\u503c\u6bd4\u8f83",id:"\u6570\u503c\u6bd4\u8f83",level:3},{value:"\u5b57\u7b26\u4e32\u6bd4\u8f83",id:"\u5b57\u7b26\u4e32\u6bd4\u8f83",level:3},{value:"\u6587\u4ef6\u6bd4\u8f83",id:"\u6587\u4ef6\u6bd4\u8f83",level:3},{value:"\u6b63\u5219\u5224\u65ad",id:"\u6b63\u5219\u5224\u65ad",level:3},{value:"\u903b\u8f91\u5224\u65ad",id:"\u903b\u8f91\u5224\u65ad",level:3},{value:"\u903b\u8f91\u8fd0\u7b97",id:"\u903b\u8f91\u8fd0\u7b97",level:3},{value:"case \u5206\u652f",id:"case-\u5206\u652f",level:2}];function h(e){const n={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"#if-%E5%88%86%E6%94%AF",children:"if \u5206\u652f"}),"\n",(0,a.jsx)(n.a,{href:"#%E8%A1%A8%E8%BE%BE%E5%BC%8F",children:"\u8868\u8fbe\u5f0f"}),"\n",(0,a.jsx)(n.a,{href:"#case-%E5%88%86%E6%94%AF",children:"case \u5206\u652f"})]}),"\n",(0,a.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,a.jsx)(n.h2,{id:"if-\u5206\u652f",children:"if \u5206\u652f"}),"\n",(0,a.jsx)(n.p,{children:"if \u5206\u652f\u662f shell \u4e2d\u7684\u6700\u5e38\u89c1\u7684\u5206\u652f"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'if <expression> ; then                           # expression \u8fd4\u56de\u503c\u4e3a 0 \u8868\u793a\u6761\u4ef6\u6210\u7acb\n    commands                                     # \u8868\u8fbe\u5f0f\u6210\u7acb\u624d\u4f1a\u6267\u884c command\nfi                                               # \u5206\u652f\u8bed\u53e5\u7ed3\u675f\n\nif [[ 3 > 2 ]]; then                             #  3 > 2 \u6761\u4ef6\u6210\u7acb\n    echo -e " 3 bigger than 2\\n"                 # \u6267\u884c\u6253\u5370\nfi\n\n $ if date; then echo "true"; fi                 # \u547d\u4ee4\u6267\u884c\u6210\u529f(\u72b6\u6001\u7801\u4e3a 0)\u4e5f\u8868\u793a\u6761\u4ef6\u6210\u7acb\n > Mon Aug 15 21:03:03 CST 2022                  # date \u547d\u4ee4\u6267\u884c\u6210\u529f\n > true                                          # \u6267\u884c\u5206\u652f\u4ee3\u7801\n'})}),"\n",(0,a.jsx)(n.p,{children:"\u6ce8: if \u5206\u652f\u540e\u7684\u547d\u4ee4\u6216\u8868\u8fbe\u5f0f\u8fd4\u56de 0 \u8868\u793a true, \u6761\u4ef6\u6210\u7acb, \u5176\u4f59\u503c\u5747\u8868\u793a false \u4e0d\u6210\u7acb"}),"\n",(0,a.jsx)(n.h3,{id:"\u591a\u91cd\u5206\u652f",children:"\u591a\u91cd\u5206\u652f"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'if <expression>; then                            # command \u8fd4\u56de\u503c\u4e3a 0 \u8868\u793a\u6761\u4ef6\u6210\u7acb\n    commands\nelif <expression>; then                          # if \u4e0d\u6210\u7acb, \u5224\u65ad elif\n    commands\nelse                                             # if \u548c elif \u5747\u4e0d\u6210\u7acb\u624d\u6267\u884c\n    commands\nfi\n\nif true; then                                    # \u547d\u4ee4\u6267\u884c\u6210\u529f\u8868\u793a\u6761\u4ef6\u6210\u7acb\n    echo "first if";\nelif true; then                                  # \u4e0a\u4e2a if \u6761\u4ef6\u4e0d\u6210\u7acb\u624d\u4f1a\u6267\u884c\u5224\u65ad\n    echo "else if";\nelse                                             # \u4e0a\u8ff0\u5206\u652f\u5747\u4e0d\u6210\u7acb\u624d\u4f1a\u6267\u884c\n    echo "else";\nfi\n\n> first if                                       # \u6267\u884c\u7b2c\u4e00\u4e2a\u6210\u7acb\u7684 if \u6761\u4ef6\n'})}),"\n",(0,a.jsx)(n.h2,{id:"\u8868\u8fbe\u5f0f",children:"\u8868\u8fbe\u5f0f"}),"\n",(0,a.jsxs)(n.p,{children:["\u8868\u8fbe\u5f0f\u6709\u5f88\u591a\u5f62\u5f0f, \u6570\u503c\u6216\u5b57\u7b26\u4e32\u6bd4\u8f83\u9700\u8981\u4f7f\u7528\u62ec\u53f7\u5305\u542b",(0,a.jsx)(n.br,{}),"\n","Linux \u547d\u4ee4\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u8868\u8fbe\u5f0f, \u547d\u4ee4\u8fd4\u56de\u503c 0 \u4e3a true, \u8fd4\u56de\u503c\u4e0d\u4e3a 0 \u4e3a false"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'test < expression >                              # \u5e38\u7528\u4f5c if \u5224\u65ad\u7684\u8868\u8fbe\u5f0f, \u4e0e [ expression ] \u7b49\u4ef7\n[ expression ]                                   # \u540c\u4e0a, \u4e0e test \u7b49\u4ef7, \u62ec\u53f7\u5185\u7a7a\u683c\u662f\u5fc5\u987b\u7684\n[[ expression ]]                                 # \u8f83\u4e0a\u8ff0\u989d\u5916\u652f\u6301\u6b63\u5219, \u62ec\u53f7\u5185\u7a7a\u683c\u662f\u5fc5\u987b\u7684\n\n\nif [[ $USER == "root" ]]; then\n    echo "user is root"\nelse\n    echo "not root user"\nfi\n\n[[ $USER == "root" ]] && echo "user is root"     # &&(\u4e14) \u8868\u8fbe\u5f0f\u4e3a true \u624d\u4f1a\u6267\u884c\u540e\u534a\u6bb5\n[[ $USER == "root" ]] || echo "not user root"    # ||(\u6216) \u8868\u8fbe\u5f0f\u4e3a false \u624d\u4f1a\u6267\u884c\u540e\u534a\u6bb5\n[[ $? -eq 0 ]] && echo "succ" || echo "fail"     # \u540c\u65f6\u4f7f\u7528 && \u548c ||\n\n $ true && echo $?                               # true \u8fd4\u56de\u503c\u4e3a 0, \u524d\u534a\u90e8\u5206 true, \u7ee7\u7eed\u6267\u884c\u540e\u534a\u6bb5\n > 0\n $ false || echo $?                              # false \u8fd4\u56de\u503c 1, \u524d\u534a\u90e8\u5206 false, \u7ee7\u7eed\u6267\u884c\u540e\u534a\u6bb5\n > 1\n'})}),"\n",(0,a.jsxs)(n.p,{children:["\u6ce8: \u5355\u62ec\u53f7\u9700\u8981\u6ce8\u610f\u53d8\u91cf\u5f15\u7528\u4e3a\u7a7a\u5bfc\u81f4\u547d\u4ee4\u62a5\u9519\u6216\u903b\u8f91\u9519\u8bef",(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.code,{children:'[ $name == "bash" ]'})," \u5f53 ",(0,a.jsx)(n.code,{children:"$name"})," \u4e3a\u7a7a\u6267\u884c\u4f1a\u62a5\u9519"]}),"\n",(0,a.jsx)(n.h3,{id:"\u6570\u503c\u6bd4\u8f83",children:"\u6570\u503c\u6bd4\u8f83"}),"\n",(0,a.jsxs)(n.p,{children:["\u5355\u4e2d\u62ec\u53f7\u6570\u503c\u6bd4\u8f83\u4e0d\u652f\u6301 ",(0,a.jsx)(n.code,{children:"> < =="})," \u7b49\u7b26\u53f7, \u4f7f\u7528 ",(0,a.jsx)(n.code,{children:"-eq -ne -lt -le -gt -ge"})," \u4ee3\u66ff",(0,a.jsx)(n.br,{}),"\n","\u53cc\u4e2d\u62ec\u53f7\u6570\u503c\u6bd4\u8f83\u652f\u6301 ",(0,a.jsx)(n.code,{children:"> < =="})," \u7b26\u53f7\u4e5f\u652f\u6301 ",(0,a.jsx)(n.code,{children:"-eq -ne -lt -le -gt -ge"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:' $ [ 3 -eq 3 ]                                   # equal \u6570\u503c\u76f8\u7b49\u8868\u793a true\n $ [ 3 -ne 3 ]                                   # not equal \u6570\u503c\u4e0d\u76f8\u7b49\u8868\u793a true\n $ [ 3 -lt 3 ]                                   # less than \u5c0f\u4e8e\n $ [ 3 -le 3 ]                                   # less equal \u5c0f\u4e8e\u7b49\u4e8e\n $ [ 3 -gt 3 ]                                   # greater than \u5927\u4e8e\n $ [ 3 -ge 3 ]                                   # greater equal \u5927\u4e8e\u7b49\u4e8e\n\n $ [ 0 -ne 0 ]; echo $?                          # 0 \u4e0d\u7b49\u4e8e 0, \u72b6\u6001\u7801\u4e3a 1\n > 1\n\n $ [ 3 > 2 ] && echo "true"                      # \u6ce8: \u6267\u884c\u547d\u4ee4 "3" \u7ed3\u679c\u5199\u5165 2 \u547d\u540d\u7684\u6587\u4ef6, \u6267\u884c\u6210\u529f\u6253\u5370 true\n > true\n'})}),"\n",(0,a.jsxs)(n.p,{children:["\u6ce8: \u6570\u503c\u6bd4\u8f83\u5c3d\u91cf\u4e0d\u8981\u4f7f\u7528 ",(0,a.jsx)(n.code,{children:">"})," ",(0,a.jsx)(n.code,{children:"<"})," ",(0,a.jsx)(n.code,{children:"=="}),"\u7b49\u7b26\u53f7, \u4f7f\u7528\u53cc\u4e2d\u62ec\u53f7\u548c\u5b57\u7b26\u6bd4\u8f83"]}),"\n",(0,a.jsx)(n.h3,{id:"\u5b57\u7b26\u4e32\u6bd4\u8f83",children:"\u5b57\u7b26\u4e32\u6bd4\u8f83"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:' $ [ -z "str" ]                                  # \u5b57\u7b26\u4e32\u957f\u5ea6\u4e3a 0 \u4e3a true\n $ [ -n "str" ]                                  # \u5b57\u7b26\u4e32\u957f\u5ea6\u4e0d\u4e3a 0 \u4e3a true\n\n $ [ "abc" == "abc" ]                            # \u5b57\u7b26\u4e32\u76f8\u7b49\u4e3a true\n $ [ "abc" != "abc" ]                            # \u5b57\u7b26\u4e32\u4e0d\u76f8\u7b49\u4e3a true\n\n $ name=""\n $ [ $name == "linux" ] || echo "no linux"       # name \u4e3a\u7a7a, \u4ece == \u5f00\u59cb\u6267\u884c, \u62a5\u9519\n > bash: [: ==: unary operator expected\n\n $ [[ $name = "linux" ]] || echo "no linux"\n > no linux\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u6587\u4ef6\u6bd4\u8f83",children:"\u6587\u4ef6\u6bd4\u8f83"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:' $ [ -e file ]                                   # \u6587\u4ef6\u5b58\u5728\u4e3a true\n $ [ -d file ]                                   # \u8def\u5f84\u5b58\u5728\u4e3a true\n\n $ [[ ! -e file ]] && touch file                 # \u5982\u679c file \u4e0d\u5b58\u5728\u5219\u521b\u5efa file\n $ [[ ! -d /root/path ]] && mkdir -p /root/path  # \u5982\u679c\u8def\u5f84\u4e0d\u5b58\u5728\u6d4b\u521b\u5efa\u8def\u5f84\n\n $ [ -f file ] && cat file || echo "1st" > file  # file \u5b58\u5728\u5219\u8bfb\u53d6 file, \u4e0d\u5b58\u5728\u5219\u521b\u5efa\u5e76\u5199\u5165 "1st"\n > 1st\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u6b63\u5219\u5224\u65ad",children:"\u6b63\u5219\u5224\u65ad"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'[[ expression ]]                                 # \u4ec5\u53cc\u62ec\u53f7\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\n\n[[ "abc" =~ "b" ]]                               # true \u5224\u65ad abc \u662f\u5426\u5305\u542b b\n[[ "01:01:01" =~ ([0-9]{2}\\:){2}[0-9]{2} ]]      # true \u6b63\u5219\u5339\u914d\u65f6\u95f4\u683c\u5f0f, \u6b63\u5219\u8868\u8fbe\u5f0f\u4e0d\u80fd\u7528\u5f15\u53f7\u5305\u542b\n[[ "10.0.0.1" =~ ([0-9]{1,3}\\.){3}[0-9]{1,3} ]]  # true \u6b63\u5219\u5339\u914d IPV4\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u903b\u8f91\u5224\u65ad",children:"\u903b\u8f91\u5224\u65ad"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"[ ! expression ]                              # \u5355\u62ec\u53f7\u903b\u8f91\u975e\n[[ ! expression ]]                            # \u53cc\u62ec\u53f7\u903b\u8f91\u975e\n\n[ true -a true ]                              # true \u5355\u62ec\u53f7\u903b\u8f91\u4e0e\n[[ true && false ]]                           # false \u53cc\u62ec\u53f7\u903b\u8f91\u4e0e\n\n[ false -o true ]                             # true \u5355\u62ec\u53f7\u903b\u8f91\u6216\n[[ false || true ]]                           # true \u53cc\u62ec\u53f7\u903b\u8f91\u6216\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u903b\u8f91\u8fd0\u7b97",children:"\u903b\u8f91\u8fd0\u7b97"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:' $ command && command                            # \u524d\u4e00\u6761\u547d\u4ee4\u6210\u529f\u624d\u4f1a\u6267\u884c\u540e\u4e00\u6761\n\n $ true && echo "true"                           # true \u8fd4\u56de\u503c 0, \u7ee7\u7eed\u6267\u884c\n > true\n\n $ ! false && echo "not false"                   # \u524d\u4e00\u6761\u547d\u4ee4\u8fd4\u56de\u503c 0, \u7ee7\u7eed\u6267\u884c\n > not false\n\n $ command || command                            # \u524d\u4e00\u6761\u5931\u8d25\u540e\u624d\u4f1a\u7ee7\u7eed\u6267\u884c\u540e\u4e00\u6761\n\n $ false || echo "false"                         # false \u8fd4\u56de\u503c 1, \u6267\u884c\u4e0b\u4e00\u6761\n > false\n'})}),"\n",(0,a.jsx)(n.h2,{id:"case-\u5206\u652f",children:"case \u5206\u652f"}),"\n",(0,a.jsx)(n.p,{children:"\u4f7f\u7528 case \u4f5c\u4e3a\u591a\u91cd\u5224\u65ad\u6761\u4ef6, \u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f, \u652f\u6301\u591a\u884c"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'case expression in\n    pattern1 )\n        commands;;\n    pattern2 )\n        commands;;\n    *)\n        commands;;\nesac\n\nindex=2\ncase $index in\n    1)\n        echo "index is 1";;\n    2)\n        echo "index is 1";;\n    3)\n        echo "index is 1";;\n    *)\n        echo "index not in 1,2,3";;\nesac\n'})})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>i});var a=s(6540);const r={},c=a.createContext(r);function t(e){const n=a.useContext(c);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),a.createElement(c.Provider,{value:n},e.children)}}}]);