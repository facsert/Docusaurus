"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[4283],{7733:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>u,default:()=>a,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var r=t(4848),o=t(8453);const i={pubDatetime:new Date("2024-11-25T20:12:54.000Z"),title:"Go iter",slug:"Go iter",featured:!1,draft:!1,tags:["Go"],description:"Go \u8fed\u4ee3\u5668"},u=void 0,s={id:"Go/modules/go-iter",title:"Go iter",description:"Go \u8fed\u4ee3\u5668",source:"@site/docs/Go/modules/go-iter.md",sourceDirName:"Go/modules",slug:"/Go/modules/Go iter",permalink:"/docs/Go/modules/Go iter",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Go/modules/go-iter.md",tags:[{inline:!0,label:"Go",permalink:"/docs/tags/go"}],version:"current",frontMatter:{pubDatetime:"2024-11-25T20:12:54.000Z",title:"Go iter",slug:"Go iter",featured:!1,draft:!1,tags:["Go"],description:"Go \u8fed\u4ee3\u5668"},sidebar:"tutorialSidebar",previous:{title:"Go grpc",permalink:"/docs/Go/modules/Go grpc"},next:{title:"Go SSH",permalink:"/docs/Go/modules/Go SSH"}},c={},l=[{value:"\u4ecb\u7ecd",id:"\u4ecb\u7ecd",level:2},{value:"\u81ea\u5b9a\u4e49\u8fed\u4ee3\u5668",id:"\u81ea\u5b9a\u4e49\u8fed\u4ee3\u5668",level:2}];function d(n){const e={code:"code",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h2,{id:"\u4ecb\u7ecd",children:"\u4ecb\u7ecd"}),"\n",(0,r.jsx)(e.p,{children:"Go \u8bed\u8a00\u63d0\u4f9b\u4e86\u591a\u79cd\u8fed\u4ee3\u5668\uff0c\u5305\u62ec\u6570\u7ec4\u3001\u5207\u7247\u3001map\u3001\u901a\u9053\u7b49"}),"\n",(0,r.jsx)(e.h2,{id:"\u81ea\u5b9a\u4e49\u8fed\u4ee3\u5668",children:"\u81ea\u5b9a\u4e49\u8fed\u4ee3\u5668"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:"// \u5b9a\u4e49\u8fed\u4ee3\u5668\u51fd\u6570\u7c7b\u578b(\u5f85\u5b9e\u73b0)\ntype yieldFunc func(int) bool\n\n// \u5b9a\u4e49 IterFunc \u7c7b\u578b, \u63a5\u6536 yieldFunc \u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\ntype IterFunc func(yield yieldFunc)\n\n// \u5b9a\u4e49 List \u51fd\u6570, \u63a5\u6536\u5207\u7247\u4f5c\u4e3a\u53c2\u6570, \u8fd4\u56de\u4e00\u4e2a IterFunc \u51fd\u6570\nfunc List(s []int) IterFunc {\n    fn := func(yield yieldFunc) {\n        for _, v := range s {\n            if !yield(v) { return }\n        }\n    }\n    return fn\n}\n\n// \u5b9e\u73b0\u4e00\u4e2a yieldFunc \u51fd\u6570, \u6253\u5370\u4f20\u5165\u7684\u503c, \u5e76\u8fd4\u56de true\nvar yielder yieldFunc = func(v int) bool {\n    fmt.Println(v)\n    return true\n}\n\n// \u8c03\u7528 List \u51fd\u6570, \u4f20\u5165\u5207\u7247, \u5207\u7247\u4fdd\u5b58\u5230 IterFunc \u51fd\u6570\u4e2d\u88ab\u8fd4\u56de\niter := List([]int{1, 2, 3, 4})\n\n// \u4f20\u5165 yielder \u6267\u884c\u51fd\u6570, \u6bcf\u6b21\u5faa\u73af\u5c06\u5207\u7247\u5143\u7d20\u4f5c\u4e3a yieldFunc \u51fd\u6570\u7684\u53c2\u6570\u6267\u884c\niter(yielder)\n\n> 1\n> 2\n> 3\n> 4\n> 5\n\n// \u7b80\u5316\u7248\nfunc List(s []int) func(yield func(int)bool) {\n    return func(yield func(int) bool) {\n        for _, v := range s {\n            if !yield(v) { return}\n        }\n    }\n}\n\n// \u8c03\u7528 List \u51fd\u6570(List \u8c03\u7528)\nList([]int{1, 2, 3, 4})(func(v int) bool {\n    fmt.Println(v)\n    return true\n})\n\n> 1\n> 2\n> 3\n> 4\n\n// Go \u4f7f\u7528 range \u4f5c\u4e3a\u8bed\u6cd5\u7cd6\u7b80\u5316\u4ee5\u4e0a\u8c03\u7528(range \u8c03\u7528)\n// Go \u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u5c06 range \u8c03\u7528\u8f6c\u6362\u4e3a List \u8c03\u7528\u4ee3\u7801\n// \u6240\u4ee5 range \u53c2\u6570\u662f\u8fed\u4ee3\u5bf9\u8c61, range \u5185\u90e8\u4ee3\u7801\u5373 yield \u51fd\u6570\u7684\u5b9e\u73b0\nfor  v := range List([]int{1, 2, 3, 4}) {\n    fmt.Println(v)\n}\n\n// \u4f7f\u7528\u5b98\u65b9\u7684 iter \u5305\n// Go \u5b98\u65b9iter \u5305 Seq \u7c7b\u578b\u5b9a\u4e49\ntype Seq[V any] func(yield func(V) bool)\n\nfunc IterFunc[V any](s []V) iter.Seq[V] {\n    return func(yield func(V) bool) {\n        for _, v := range s {\n            if !yield(v) { return }\n        }\n    }\n}\n\nfor v := range IterFunc([]int{1, 2, 3, 4}) {\n    fmt.Println(v)\n}\n"})})]})}function a(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>u,x:()=>s});var r=t(6540);const o={},i=r.createContext(o);function u(n){const e=r.useContext(i);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:u(n.components),r.createElement(i.Provider,{value:e},n.children)}}}]);