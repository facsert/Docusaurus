"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[3143],{2801:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>r,contentTitle:()=>i,default:()=>g,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var n=a(4848),l=a(8453);const o={author:"facsert",pubDatetime:new Date("2022-01-19T21:51:23.000Z"),title:"gitlab",slug:"gitlab",featured:!1,draft:!1,tags:["gitlab"],description:"\u4ee3\u7801\u4ed3\u5e93 gitlab"},i=void 0,s={id:"Tool/gitlab",title:"gitlab",description:"\u4ee3\u7801\u4ed3\u5e93 gitlab",source:"@site/docs/Tool/gitlab.md",sourceDirName:"Tool",slug:"/Tool/gitlab",permalink:"/docs/Tool/gitlab",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Tool/gitlab.md",tags:[{inline:!0,label:"gitlab",permalink:"/docs/tags/gitlab"}],version:"current",frontMatter:{author:"facsert",pubDatetime:"2022-01-19T21:51:23.000Z",title:"gitlab",slug:"gitlab",featured:!1,draft:!1,tags:["gitlab"],description:"\u4ee3\u7801\u4ed3\u5e93 gitlab"},sidebar:"tutorialSidebar",previous:{title:"caddy",permalink:"/docs/Tool/caddy"},next:{title:"nginx",permalink:"/docs/Tool/nginx"}},r={},c=[{value:"\u4ecb\u7ecd",id:"\u4ecb\u7ecd",level:2},{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:2},{value:"\u914d\u7f6e",id:"\u914d\u7f6e",level:2}];function d(e){const t={br:"br",code:"code",h2:"h2",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h2,{id:"\u4ecb\u7ecd",children:"\u4ecb\u7ecd"}),"\n",(0,n.jsx)(t.p,{children:"GitLab\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u7684Git\u4ed3\u5e93\u7ba1\u7406\u8f6f\u4ef6, \u652f\u6301\u591a\u79cd\u7248\u672c\u63a7\u5236\u7cfb\u7edf"}),"\n",(0,n.jsx)(t.h2,{id:"\u5b89\u88c5",children:"\u5b89\u88c5"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:" # \u4e0b\u8f7d gitlab \u793e\u533a\u7248\u955c\u50cf\n $ docker pull gitlab/gitlab-ce:latest\n $ docker images\n > REPOSITORY        TAG     IMAGE ID       CREATED         SIZE\n > gitlab/gitlab-ce  latest  2eac78f2ca26   3 days ago      3.02GB\n \n # \u901a\u8fc7 docker-compose.yml \u542f\u52a8 gitlab\n $ docker compose up -d\n"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-yml",children:"# docker-compose.yml \u914d\u7f6e gitlab\nservices:\n  gitlab:\n    image: gitlab/gitlab-ce:latest\n    container_name: gitlab\n    restart: always\n    hostname: 'codehub.com'\n    # \u8bbe\u7f6e gitlab \u73af\u5883\u53d8\u91cf\n    environment: \n      GITLAB_OMNIBUS_CONFIG: | \n        external_url 'http://codehub.com'\n        gitlab_rails['gitlab_shell_ssh_port'] = 2424\n    # \u6620\u5c04\u7aef\u53e3\n    ports:\n      - '80:80'\n      - '8443:443'\n      - '2424:22'\n    # \u6302\u8f7d\u6570\u636e\u5377\n    volumes:\n      - '/home/gitlab/etc:/etc/gitlab'\n      - '/home/gitlab/log:/var/log/gitlab'\n      - '/home/gitlab/opt:/var/opt/gitlab'\n    shm_size: '256m'\n"})}),"\n",(0,n.jsxs)(t.p,{children:["\u6d4f\u89c8\u5668\u6253\u5f00 ",(0,n.jsx)(t.code,{children:"http://localhost:80"})," \u6253\u5f00 gitlab \u767b\u5f55\u9875\u9762",(0,n.jsx)(t.br,{}),"\n","\u9ed8\u8ba4\u7528\u6237\u540d: root",(0,n.jsx)(t.br,{}),"\n","\u9ed8\u8ba4\u5bc6\u7801: \u968f\u673a\u751f\u6210\u7684\u5bc6\u7801(\u8fdb\u5165\u5bb9\u5668\u67e5\u770b), \u767b\u5f55\u540e\u4fee\u6539\u5bc6\u7801"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:" # \u8fdb\u5165\u5bb9\u5668\u5185\u67e5\u8be2\u5bc6\u7801\n $ docker exec -it gitlab bash\n $ cat /etc/gitlab/initial_root_password |grep -i password:\n > Password: NJ5g67y9/N1OL9Pod8FpDT4plkYdoMylfzw7vLz3/hM=\n\n # \u5bb9\u5668 /etc \u8def\u5f84\u5df2\u6620\u5c04\u5230\u5bbf\u4e3b\u673a /home/gitlab/etc\n $ cat Gitlab/etc/initial_root_password| grep -i password:\n > Password: NJ5g67y9/N1OL9Pod8FpDT4plkYdoMylfzw7vLz3/hM=\n"})}),"\n",(0,n.jsx)(t.p,{children:"\u6ce8: \u767b\u5f55\u540e\u70b9\u51fb\u5934\u50cf(\u9876\u90e8) -> Preference -> Password \u4fee\u6539\u5bc6\u7801"}),"\n",(0,n.jsx)(t.h2,{id:"\u914d\u7f6e",children:"\u914d\u7f6e"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"# \u4fee\u6539 gitlab \u9ed8\u8ba4\u8bed\u8a00(root\u7528\u6237\u65e0\u6548)\ngitlab\u56fe\u6807(\u5de6\u4e0a) -> Projects -> Configure Gitlab -> Settings -> Preferences -> Localization -> Default language \u8bbe\u7f6e\u8bed\u8a00  \n\n# \u7528\u6237\u7ba1\u7406(root\u7528\u6237\u521b\u5efa, \u5176\u4ed6\u7528\u6237\u901a\u8fc7\u6ce8\u518c\u7533\u8bf7, root\u7528\u6237\u901a\u8fc7\u7533\u8bf7)\ngitlab\u56fe\u6807(\u5de6\u4e0a) -> Projects -> Configure Gitlab -> Overview -> Users\n"})})]})}function g(e={}){const{wrapper:t}={...(0,l.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,t,a)=>{a.d(t,{R:()=>i,x:()=>s});var n=a(6540);const l={},o=n.createContext(l);function i(e){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);